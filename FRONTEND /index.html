<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="Premium emotional code marketplace - Romantic web templates & components" />
  <title>Emotional Code Marketplace | Premium Romantic Templates</title>

  <link rel="stylesheet" href="style.css">

  <!-- FRONTEND CONFIG -->
  <script>
    window.EC_CONFIG = {
      BACKEND_BASE: "https://ehomershine-backend-deba1-13.onrender.com",
      API_PRODUCTS_ENDPOINT: "/api/products"
      /* NOTE:
         Your backend does NOT have `/api/product`.
         It only has:
         - GET /api/products
         - GET /api/products/:id
         - PUT/DELETE same path for admin
         So we removed API_PRODUCT_ENDPOINT to avoid errors.
      */
    };
  </script>

  <link rel="icon" href="https://via.placeholder.com/32x32/FFB6C1/ffffff?text=‚ô•" />
</head>

<body class="light-theme">

  <!-- Sparkles -->
  <div class="sparkles-container">
    <div class="sparkle"></div><div class="sparkle"></div><div class="sparkle"></div>
    <div class="sparkle"></div><div class="sparkle"></div><div class="sparkle"></div>
    <div class="sparkle"></div><div class="sparkle"></div>
  </div>

  <!-- Toggle theme -->
  <button id="themeToggle" class="theme-toggle">
    <span class="theme-icon sun-icon">‚òÄÔ∏è</span>
    <span class="theme-icon moon-icon">üåô</span>
  </button>

  <!-- HERO -->
  <header class="hero">
    <div class="hero-content">
      <div class="hero-text">
        <h1 class="hero-headline">
          Code Your Emotions<br>
          <span class="gradient-text">Into Beautiful Reality</span>
        </h1>
        <p class="hero-subtext">
          Beautiful romantic web templates crafted with love ‚Äî proposals, birthdays,
          anniversaries, and heartfelt digital moments.
        </p>

        <div class="hero-cta-group">
          <button class="btn btn-primary"
            onclick="document.getElementById('products').scrollIntoView({behavior:'smooth'})">
            Explore Templates
          </button>

          <button class="btn btn-secondary" onclick="openChat()">Get Custom Design</button>
        </div>
      </div>

      <div class="hero-illustration">
        <img src="https://via.placeholder.com/600x500/FFE5EC/FFB6C1?text=‚ô•+Romantic+Designs" alt="">
      </div>
    </div>
  </header>

  <!-- MAIN LAYOUT -->
  <div class="main-container">

    <!-- SIDEBAR -->
    <aside class="seller-sidebar">
      <div class="seller-card">
        <div class="seller-avatar">
          <img src="https://via.placeholder.com/120x120/E6B8FF/ffffff?text=ER" alt="">
          <div class="online-badge"></div>
        </div>

        <h2 class="seller-name">Emma Rose</h2>
        <p class="seller-bio">Crafting digital love stories through code ‚ú®</p>

        <div class="seller-stats">
          <div class="stat-item"><div class="stat-icon">‚≠ê</div><div class="stat-info"><div class="stat-value">4.9</div><div class="stat-label">Rating</div></div></div>
          <div class="stat-item"><div class="stat-icon">üë•</div><div class="stat-info"><div class="stat-value">2.4K</div><div class="stat-label">Followers</div></div></div>
          <div class="stat-item"><div class="stat-icon">üì¶</div><div class="stat-info"><div class="stat-value">856</div><div class="stat-label">Orders</div></div></div>
        </div>

        <div class="seller-socials">
          <a class="social-link" href="https://instagram.com" target="_blank">üì∑ Instagram</a>
          <a class="social-link" href="https://wa.me/1234567890" target="_blank">üí¨ WhatsApp</a>
        </div>
      </div>
    </aside>

    <!-- PRODUCTS SECTION -->
    <main class="products-section" id="products">

      <!-- Search + Sort -->
      <div class="controls-bar">
        <div class="search-box">
          <input id="searchInput" type="search" placeholder="Search templates‚Ä¶">
          <span class="search-icon">üîç</span>
        </div>

        <div class="sort-select">
          <select id="sortSelect">
            <option value="featured">Featured</option>
            <option value="price-low">Price: Low to High</option>
            <option value="price-high">Price: High to Low</option>
            <option value="newest">Newest First</option>
          </select>
        </div>
      </div>

      <!-- CATEGORY CHIPS -->
      <div class="filter-chips" id="categoryChips">
        <button class="chip active" data-category="all">All</button>

        <button class="chip" data-category="birthday-wishes">Birthday Wishes</button>
        <button class="chip" data-category="birthday-crush">Birthday Wishes for Crush</button>
        <button class="chip" data-category="proposal">Proposal</button>
        <button class="chip" data-category="apology">Apology</button>
        <button class="chip" data-category="anniversary">Anniversary</button>
        <button class="chip" data-category="for-girlfriend">For Girlfriend</button>
        <button class="chip" data-category="for-boyfriend">For Boyfriend</button>
        <button class="chip" data-category="fathers-day">Father‚Äôs Day</button>
        <button class="chip" data-category="mothers-day">Mother‚Äôs Day</button>
        <button class="chip" data-category="landing-page">Landing Page</button>
        <button class="chip" data-category="love-letters">Love Letters</button>
        <button class="chip" data-category="countdown-pages">Countdown Pages</button>
        <button class="chip" data-category="photo-galleries">Photo Galleries</button>
        <button class="chip" data-category="frontend-components">Frontend Components Pack</button>
        <button class="chip" data-category="full-website-kits">Full Website Kits</button>
      </div>

      <!-- PRODUCT GRID -->
      <div id="productGrid" class="product-grid"></div>

    </main>
  </div>

  <!-- Testimonials -->
  <section class="testimonials-section">
    <h2 class="section-title">Loved By Creators</h2>
    <div class="testimonials-grid">
      <div class="testimonial-card">
        <div class="testimonial-stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
        <p>"The proposal template helped me create the most magical moment."</p>
      </div>
      <div class="testimonial-card">
        <div class="testimonial-stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
        <p>"My anniversary website made my wife cry‚Äîso beautiful!"</p>
      </div>
    </div>
  </section>

  <!-- Product Modal -->
  <div id="productModal" class="modal-backdrop">
    <div class="modal-content">
      <button class="modal-close" onclick="closeModal()">√ó</button>

      <div class="modal-body">
        <div class="modal-gallery">
          <div class="gallery-main">
            <button onclick="prevImage()" class="gallery-nav prev">‚Äπ</button>
            <img id="modalMainImage" src="">
            <button onclick="nextImage()" class="gallery-nav next">‚Ä∫</button>
          </div>
          <div id="modalThumbnails" class="gallery-thumbnails"></div>
        </div>

        <div class="modal-info">
          <h2 id="modalTitle"></h2>
          <div class="modal-price-group">
            <span id="modalPrice"></span>
            <span id="modalOldPrice"></span>
          </div>
          <div id="modalTags"></div>
          <ul id="modalIncludes"></ul>

          <button class="btn btn-primary" onclick="addToCartFromModal()">Add to Cart</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Cart Drawer -->
  <div id="cartDrawer" class="cart-drawer">
    <div class="cart-header">
      <h2>Your Cart</h2>
      <button onclick="toggleCart()">√ó</button>
    </div>

    <div id="cartItems"></div>
    <div id="cartEmpty" class="cart-empty">Your cart is empty</div>

    <div id="cartFooter" class="cart-footer">
      <div class="summary-row">Subtotal: <span id="cartSubtotal">‚Çπ0</span></div>
      <div class="summary-row">Fee (2%): <span id="cartFee">‚Çπ0</span></div>
      <div class="summary-row total">Total: <span id="cartTotal">‚Çπ0</span></div>
      <button class="btn btn-primary" onclick="openCheckout()">Proceed to Checkout</button>
    </div>
  </div>

  <button id="cartButton" class="cart-button" onclick="toggleCart()">
    üõí <span id="cartBadge">0</span>
  </button>

  <!-- Checkout -->
  <div id="checkoutModal" class="modal-backdrop">
    <div class="modal-content checkout-modal">
      <button onclick="closeCheckout()">√ó</button>

      <h2>Complete Your Order</h2>
      <form id="checkoutForm" onsubmit="handleCheckout(event)">
        <label>Name* <input id="customerName" required /></label>
        <label>Phone* <input id="customerPhone" required /></label>
        <label>Email* <input id="customerEmail" type="email" required /></label>
        <div>Total: <span id="checkoutTotal">‚Çπ0</span></div>
        <button class="btn btn-primary">Complete Payment</button>
      </form>
    </div>
  </div>

  <!-- Success Modal -->
  <div id="successModal" class="modal-backdrop">
    <div class="modal-content success-modal">
      <h2>Payment Successful!</h2>
      <p>Order ID: <strong id="orderId"></strong></p>
      <p>Confirmation sent to <strong id="confirmEmail"></strong></p>
      <button onclick="closeSuccess()" class="btn btn-primary">Continue</button>
    </div>
  </div>

  <!-- Chat Widget -->
  <div class="chat-widget">
    <button id="chatBubble" class="chat-bubble" onclick="toggleChat()">üí¨</button>

    <div id="chatBox" class="chat-box">
      <div class="chat-header">
        <div class="chat-seller-name">Emma Rose</div>
        <button onclick="toggleChat()">√ó</button>
      </div>

      <div id="chatMessages" class="chat-messages">
        <div class="chat-message received">
          <div class="message-content">Hi! üëã How can I help you today?</div>
        </div>
      </div>

      <div class="chat-input-container">
        <input id="chatInput" placeholder="Type...">
        <button onclick="sendMessage()" class="chat-send-btn">‚û§</button>
      </div>
    </div>
  </div>

  <!-- JS Files -->
  <script src="product.js" defer></script>
  <script src="products-table.js" defer></script>
  <script src="script.js" defer></script>

</body>
</html>