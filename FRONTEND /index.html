<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="Premium emotional code marketplace - Romantic web templates & components" />
  <title>Emotional Code Marketplace | Premium Romantic Templates</title>

  <!-- stylesheet (you provided) -->
  <link rel="stylesheet" href="style.css">

  <!-- small config available to JS (backend base URL) -->
  <script>
    // FRONTEND CONFIG - update here if backend URL changes
    window.EC_CONFIG = {
      BACKEND_BASE: "https://ehomershine-backend-deba1-13.onrender.com",
      API_PRODUCT_ENDPOINT: "/api/product",     // backend path for single product API if used
      API_PRODUCTS_ENDPOINT: "/api/products"    // backend path for products list
    };
  </script>

  <!-- favicon -->
  <link rel="icon" href="https://via.placeholder.com/32x32/FFB6C1/ffffff?text=‚ô•" />
</head>
<body class="light-theme">

  <!-- sparkles (visual) -->
  <div class="sparkles-container" aria-hidden="true">
    <div class="sparkle"></div><div class="sparkle"></div><div class="sparkle"></div>
    <div class="sparkle"></div><div class="sparkle"></div><div class="sparkle"></div>
    <div class="sparkle"></div><div class="sparkle"></div>
  </div>

  <!-- theme toggle -->
  <button id="themeToggle" class="theme-toggle" aria-label="Toggle theme">
    <span class="theme-icon sun-icon">‚òÄÔ∏è</span>
    <span class="theme-icon moon-icon">üåô</span>
  </button>

  <!-- HERO -->
  <header class="hero" id="hero">
    <div class="hero-content">
      <div class="hero-text">
        <h1 class="hero-headline">
          Code Your Emotions<br>
          <span class="gradient-text">Into Beautiful Reality</span>
        </h1>
        <p class="hero-subtext">
          Premium romantic web templates crafted with love ‚Äî proposals, anniversaries and heartfelt web experiences.
        </p>
        <div class="hero-cta-group">
          <button class="btn btn-primary" onclick="document.getElementById('products').scrollIntoView({behavior:'smooth'})">Explore Templates</button>
          <button class="btn btn-secondary" onclick="openChat()">Get Custom Design</button>
        </div>
      </div>

      <div class="hero-illustration">
        <img src="https://via.placeholder.com/600x500/FFE5EC/FFB6C1?text=‚ô•+Romantic+Designs" alt="Hero illustration" loading="eager">
      </div>
    </div>
  </header>

  <!-- MAIN GRID -->
  <div class="main-container">

    <!-- SIDEBAR -->
    <aside class="seller-sidebar" id="sellerSidebar">
      <div class="seller-card" role="region" aria-label="Seller information">
        <div class="seller-avatar">
          <img src="https://via.placeholder.com/120x120/E6B8FF/ffffff?text=Seller" alt="Seller avatar">
          <div class="online-badge" aria-hidden="true"></div>
        </div>
        <h2 class="seller-name">Emma Rose</h2>
        <p class="seller-bio">Crafting digital love stories through code ‚ú® Specialized in romantic web experiences</p>

        <div class="seller-stats" aria-hidden="false">
          <div class="stat-item"><div class="stat-icon">‚≠ê</div><div class="stat-info"><div class="stat-value">4.9</div><div class="stat-label">Rating</div></div></div>
          <div class="stat-item"><div class="stat-icon">üë•</div><div class="stat-info"><div class="stat-value">2.4K</div><div class="stat-label">Followers</div></div></div>
          <div class="stat-item"><div class="stat-icon">üì¶</div><div class="stat-info"><div class="stat-value">856</div><div class="stat-label">Orders</div></div></div>
        </div>

        <div class="seller-socials">
          <a class="social-link" href="https://instagram.com" target="_blank" rel="noopener">üì∑ Instagram</a>
          <a class="social-link" href="https://wa.me/1234567890" target="_blank" rel="noopener">üí¨ WhatsApp</a>
        </div>
      </div>
    </aside>

    <!-- PRODUCTS -->
    <main class="products-section" id="products" role="main">

      <!-- controls -->
      <div class="controls-bar" role="search">
        <div class="search-box" aria-label="Search templates">
          <input id="searchInput" type="search" placeholder="Search templates..." aria-label="Search templates">
          <span class="search-icon">üîç</span>
        </div>

        <div class="sort-select" aria-label="Sort options">
          <select id="sortSelect">
            <option value="featured">Featured</option>
            <option value="price-low">Price: Low to High</option>
            <option value="price-high">Price: High to Low</option>
            <option value="newest">Newest First</option>
          </select>
        </div>
      </div>

      <!-- chips -->
      <div class="filter-chips" role="tablist" aria-label="Product categories">
        <button class="chip active" data-category="all" role="tab" aria-selected="true">All</button>
        <button class="chip" data-category="proposal" role="tab" aria-selected="false">Proposal</button>
        <button class="chip" data-category="anniversary" role="tab" aria-selected="false">Anniversary</button>
        <button class="chip" data-category="birthday" role="tab" aria-selected="false">Birthday</button>
        <button class="chip" data-category="apology" role="tab" aria-selected="false">Apology</button>
        <button class="chip" data-category="landing" role="tab" aria-selected="false">Landing Page</button>
        <button class="chip" data-category="components" role="tab" aria-selected="false">Components</button>
        <button class="chip" data-category="fullstack" role="tab" aria-selected="false">Full Stack</button>
      </div>

      <!-- grid -->
      <div id="productGrid" class="product-grid" aria-live="polite">
        <!-- products inserted by script.js -->
      </div>

    </main>
  </div>

  <!-- Testimonials -->
  <section class="testimonials-section" aria-label="Testimonials">
    <h2 class="section-title">Loved By Creators</h2>
    <div class="testimonials-grid">
      <div class="testimonial-card">
        <div class="testimonial-stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
        <p class="testimonial-text">"The proposal template helped me create the most magical moment. She said yes!"</p>
        <div class="testimonial-author">
          <img src="https://via.placeholder.com/50x50/D8B4FE/ffffff?text=M" alt="Michael" loading="lazy">
          <div><div class="author-name">Michael Chen</div><div class="author-title">Used Proposal Template</div></div>
        </div>
      </div>
      <div class="testimonial-card">
        <div class="testimonial-stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
        <p class="testimonial-text">"Easy to customize and absolutely beautiful. Made our anniversary website in under an hour."</p>
        <div class="testimonial-author">
          <img src="https://via.placeholder.com/50x50/FFB6C1/ffffff?text=S" alt="Sarah" loading="lazy">
          <div><div class="author-name">Sarah Williams</div><div class="author-title">Anniversary Special</div></div>
        </div>
      </div>
      <div class="testimonial-card">
        <div class="testimonial-stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
        <p class="testimonial-text">"Professional quality code with romantic aesthetics. Highly recommended!"</p>
        <div class="testimonial-author">
          <img src="https://via.placeholder.com/50x50/FFDAB9/ffffff?text=R" alt="Raj" loading="lazy">
          <div><div class="author-name">Raj Patel</div><div class="author-title">Developer & Designer</div></div>
        </div>
      </div>
      <div class="testimonial-card">
        <div class="testimonial-stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
        <p class="testimonial-text">"The apology template helped me express feelings I couldn't put into words."</p>
        <div class="testimonial-author">
          <img src="https://via.placeholder.com/50x50/E6B8FF/ffffff?text=L" alt="Lisa" loading="lazy">
          <div><div class="author-name">Lisa Anderson</div><div class="author-title">Heartfelt Moments</div></div>
        </div>
      </div>
    </div>
  </section>

  <!-- product modal -->
  <div id="productModal" class="modal-backdrop" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal-content">
      <button class="modal-close" onclick="closeModal()" aria-label="Close">√ó</button>
      <div class="modal-body">
        <div class="modal-gallery">
          <div class="gallery-main">
            <button class="gallery-nav prev" onclick="prevImage()" aria-label="Previous">‚Äπ</button>
            <img id="modalMainImage" src="" alt="Preview">
            <button class="gallery-nav next" onclick="nextImage()" aria-label="Next">‚Ä∫</button>
          </div>
          <div id="modalThumbnails" class="gallery-thumbnails" aria-hidden="false"></div>
        </div>

        <div class="modal-info">
          <h2 id="modalTitle" class="modal-title"></h2>
          <div class="modal-price-group">
            <span id="modalPrice" class="modal-price"></span>
            <span id="modalOldPrice" class="modal-old-price"></span>
          </div>
          <div id="modalTags" class="modal-tags"></div>
          <div class="modal-description">
            <h3>What's included:</h3>
            <ul id="modalIncludes"></ul>
          </div>
          <div class="modal-actions">
            <button class="btn btn-primary btn-large" onclick="addToCartFromModal()">Add to Cart</button>
            <button class="btn btn-secondary" onclick="window.open(currentProduct && currentProduct.demoUrl ? currentProduct.demoUrl : '#','_blank')">View Demo</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- cart drawer -->
  <div id="cartDrawer" class="cart-drawer" aria-hidden="true">
    <div class="cart-header">
      <h2>Your Cart</h2>
      <button class="cart-close" onclick="toggleCart()" aria-label="Close cart">√ó</button>
    </div>
    <div id="cartItems" class="cart-items" aria-live="polite"></div>
    <div id="cartEmpty" class="cart-empty">
      <span class="empty-icon">üõí</span>
      <p>Your cart is empty</p>
    </div>
    <div id="cartFooter" class="cart-footer">
      <div class="cart-summary">
        <div class="summary-row"><span>Subtotal:</span><span id="cartSubtotal">‚Çπ0</span></div>
        <div class="summary-row"><span>Processing Fee (2%):</span><span id="cartFee">‚Çπ0</span></div>
        <div class="summary-row total"><span>Total:</span><span id="cartTotal">‚Çπ0</span></div>
      </div>
      <button class="btn btn-primary btn-large" onclick="openCheckout()">Proceed to Checkout</button>
    </div>
  </div>

  <!-- cart button -->
  <button id="cartButton" class="cart-button" onclick="toggleCart()" aria-label="Shopping cart">
    üõí <span id="cartBadge" class="cart-badge">0</span>
  </button>

  <!-- checkout modal -->
  <div id="checkoutModal" class="modal-backdrop" role="dialog" aria-modal="true">
    <div class="modal-content checkout-modal">
      <button class="modal-close" onclick="closeCheckout()" aria-label="Close checkout">√ó</button>
      <h2 id="checkoutTitle" class="modal-title">Complete Your Order</h2>

      <form id="checkoutForm" class="checkout-form" onsubmit="handleCheckout(event)">
        <div class="form-group">
          <label for="customerName">Full Name *</label>
          <input id="customerName" type="text" required placeholder="Your full name">
        </div>
        <div class="form-group">
          <label for="customerPhone">Phone Number *</label>
          <input id="customerPhone" type="tel" required placeholder="+91 XXXXX XXXXX">
        </div>
        <div class="form-group">
          <label for="customerEmail">Email Address *</label>
          <input id="customerEmail" type="email" required placeholder="you@email.com">
        </div>

        <div class="checkout-summary">
          <div class="summary-row"><span>Total Amount:</span><span id="checkoutTotal">‚Çπ0</span></div>
        </div>

        <button type="submit" class="btn btn-primary btn-large">Complete Payment</button>
      </form>
    </div>
  </div>

  <!-- success modal -->
  <div id="successModal" class="modal-backdrop" role="dialog" aria-modal="true">
    <div class="modal-content success-modal">
      <div class="success-checkmark">‚úì</div>
      <h2 class="success-title">Payment Successful! üéâ</h2>
      <p class="success-message">Thank you ‚Äî you'll receive the download links by email shortly.</p>
      <p>Order ID: <strong id="orderId"></strong></p>
      <p>Confirmation sent to: <strong id="confirmEmail"></strong></p>
      <button class="btn btn-primary" onclick="closeSuccess()">Continue Shopping</button>
    </div>
  </div>

  <!-- chat widget -->
  <div class="chat-widget">
    <button id="chatBubble" class="chat-bubble" onclick="toggleChat()" aria-label="Chat">üí¨</button>
    <div id="chatBox" class="chat-box" aria-hidden="true">
      <div class="chat-header">
        <div class="chat-seller">
          <img src="https://via.placeholder.com/40x40/E6B8FF/ffffff?text=ER" alt="Emma Rose">
          <div>
            <div class="chat-seller-name">Emma Rose</div>
            <div class="chat-seller-status">Online</div>
          </div>
        </div>
        <button class="chat-close-btn" onclick="toggleChat()" aria-label="Close chat">√ó</button>
      </div>

      <div id="chatMessages" class="chat-messages" aria-live="polite">
        <div class="chat-message received">
          <div class="message-content">Hi! üëã I'm Emma. How can I help you create something beautiful today?</div>
        </div>
      </div>

      <div class="chat-input-container">
        <input id="chatInput" type="text" placeholder="Type your message..." aria-label="Chat input">
        <button class="chat-send-btn" onclick="sendMessage()" aria-label="Send message">‚û§</button>
      </div>

      <div class="chat-quick-actions">
        <a class="whatsapp-link" href="https://wa.me/1234567890" target="_blank" rel="noopener">üí¨ Chat on WhatsApp</a>
      </div>
    </div>
  </div>

  <!-- auth / account controls injected by script.js -->

  <!-- scripts (order important) -->
  <!-- product.js - API layer / product helpers (you asked product singular) -->
  <script src="product.js" defer></script>

  <!-- products-table.js - currently empty per your note; loaded anyway -->
  <script src="products-table.js" defer></script>

  <!-- main front-end behavior -->
  <script src="script.js" defer></script>
</body>
</html>